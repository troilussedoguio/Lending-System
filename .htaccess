RewriteEngine On
RewriteBase /loan-management-system/

# Redirect /public/* → remove /public
RewriteCond %{THE_REQUEST} \s/loan-management-system/public/([^\s]+) [NC]
RewriteRule ^public/(.*)$ /loan-management-system/$1 [R=302,L]

# Redirect root → dashboard
RewriteRule ^$ /loan-management-system/dashboard [R=302,L]

# Internal rewrite to /public
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.+)$ public/$1 [L]

# Protect core folders
RewriteRule ^(config|error_list|controllers|models|views)/ - [F,L]
